
<!DOCTYPE html>
<html>
<head>
  <title>HTML Media Capture Example</title>
</head>
<body class="">
<h1>Sample</h1>


<h2>Important : Test for @capture and @accept existence</h2>
<p id="supported"></p>

<h2>Graphing 1</h2>
<form action="#" method="post" enctype="multipart/form-data">
  <input class = "" type="file" name="image" accept="image/*">
  <input type="submit" value="Upload">
</form>

<h2>Without @capture</h2>

<input type="file" accept="image/*">

<input type="file">

<script>

// test for @capture existence

function supported(attribute) {
  var i = document.createElement('input');
  i.setAttribute(attribute, true);
  return !!i[attribute];
}

document.querySelector('#supported').innerHTML =
  'It appears <strong>@capture is ' + (supported('capture') ? 'supported' : 'not supported') +
  '</strong> and <strong>@accept is ' + (supported('accept') ? 'supported' : 'not supported') + '</strong>.';

// examples from the spec

//var input = document.querySelector('input[type=file]');
var input = document.querySelector('#example4');

input.onchange = function () {
  var file = input.files[0];
  
  // upload(file);
  drawOnCanvas(file);
  displayAsImage(file);
};

function upload(file) {
  var form = new FormData(),
      xhr = new XMLHttpRequest();
  
  form.append('image', file);
  xhr.open('post', 'server.php', true);
  xhr.send(form);
}

function drawOnCanvas(file) {
  var reader = new FileReader(),
      c = document.createElement('canvas');

  document.body.appendChild(c);

  reader.onload = function (e) {
    var dataURL = e.target.result,
        c = document.querySelector('canvas'),
        ctx = c.getContext('2d'),
        img = new Image();
        
    img.onload = function() {
      c.width = img.width;
      c.height = img.height;
      ctx.drawImage(img, 0, 0);
    };
    
    img.src = dataURL;
  };
  
  reader.readAsDataURL(file);
}

function displayAsImage(file) {
  var imgURL = URL.createObjectURL(file),
      img = document.createElement('img');
  
  img.onload = function() {
    URL.revokeObjectURL(imgURL);
  };
  
  img.src = imgURL;
  document.body.appendChild(img);
}

</script>

<style>
  /* -------------------------------------
      GLOBAL RESETS
  ------------------------------------- */
  
  /*All the styling goes here*/
  
  img {
    border: none;
    -ms-interpolation-mode: bicubic;
    max-width: 100%; 
  }

  body {
    background-color: #f6f6f6;
    font-family: sans-serif;
    -webkit-font-smoothing: antialiased;
    font-size: 14px;
    line-height: 1.4;
    margin: 0;
    padding: 0;
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%; 
  }


  .body {
    background-color: #f6f6f6;
    width: 100%; 
  }

  /* Set a max-width, and make it display as block so it will automatically stretch to that width, but will also shrink down on a phone or something */
  .container {
    display: block;
    margin: 0 auto !important;
    /* makes it centered */
    max-width: 580px;
    padding: 10px;
    width: 580px; 
  }

  /* This should also be a block element, so that it will fill 100% of the .container */
  .content {
    box-sizing: border-box;
    display: block;
    margin: 0 auto;
    max-width: 580px;
    padding: 10px; 
  }

  /* -------------------------------------
      HEADER, FOOTER, MAIN
  ------------------------------------- */
  .main {
    background: #ffffff;
    border-radius: 3px;
    width: 100%; 
  }

  .wrapper {
    box-sizing: border-box;
    padding: 20px; 
  }

  .content-block {
    padding-bottom: 10px;
    padding-top: 10px;
  }

  .footer {
    clear: both;
    margin-top: 10px;
    text-align: center;
    width: 100%; 
  }
    .footer td,
    .footer p,
    .footer span,
    .footer a {
      color: #999999;
      font-size: 12px;
      text-align: center; 
  }

  /* -------------------------------------
      TYPOGRAPHY
  ------------------------------------- */
  h1,
  h2,
  h3,
  h4 {
    color: #000000;
    font-family: sans-serif;
    font-weight: 400;
    line-height: 1.4;
    margin: 0;
    margin-bottom: 30px; 
  }

  h1 {
    font-size: 35px;
    font-weight: 300;
    text-align: center;
    text-transform: capitalize; 
  }

  p,
  ul,
  ol {
    font-family: sans-serif;
    font-size: 14px;
    font-weight: normal;
    margin: 0;
    margin-bottom: 15px; 
  }
    p li,
    ul li,
    ol li {
      list-style-position: inside;
      margin-left: 5px; 
  }

  a {
    color: #3498db;
    text-decoration: underline; 
  } 

</style>
</body>
</html>